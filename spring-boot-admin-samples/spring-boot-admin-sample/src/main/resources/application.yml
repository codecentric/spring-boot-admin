info:
  scm-url: "@scm.url@"
  build-url: "http://travis-ci.org/@env.TRAVIS_REPO_SLUG@/builds/@env.TRAVIS_BUILD_ID@"
  stage: test

logging:
  file: "target/boot-admin-sample.log"

management:
  context-path: "/actuator"

spring:
  application:
    name: "@pom.artifactId@"
  boot:
    admin:
      url: http://localhost:8080
  profiles:
    active:
      - secure

  # FIXME: Remove when Spring Boot team fixes RefreshAutoConfiguration; updating Endpoint reference
  autoconfigure:
    exclude:
    - org.springframework.cloud.autoconfigure.LifecycleMvcEndpointAutoConfiguration

endpoints:
  default:
    web:
      enabled: true
         
---
spring:
  profiles: secure
  boot:
    admin:
      username: "${user.default.name}"       #These two are needed so that the client
      password: "${user.default.password}"   #can register at the protected server api
      client:
        metadata:
          user.name: "${user.default.name}"          #These two are needed so that the server
          user.password:  "${user.default.password}" #can access the protected client endpoints

# @see https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Security-2.0#changing-the-username-and-password
#
user:
  default:
    name: admin
    password: admin
