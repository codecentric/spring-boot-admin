"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[6180],{6222:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"getting-started/client-registration","title":"Client Registration","description":"To monitor your applications with Spring Boot Admin, they need to register with the Admin Server. There are three main","source":"@site/docs/01-getting-started/20-client-registration.md","sourceDirName":"01-getting-started","slug":"/getting-started/client-registration","permalink":"/4.0.1/docs/getting-started/client-registration","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"sidebar_position":20,"sidebar_custom_props":{"icon":"link"}},"sidebar":"sidebar","previous":{"title":"Server Setup","permalink":"/4.0.1/docs/getting-started/server-setup"},"next":{"title":"SNAPSHOT-Versions","permalink":"/4.0.1/docs/getting-started/snapshots"}}');var r=i(4848),s=i(8453);const a={sidebar_position:20,sidebar_custom_props:{icon:"link"}},l="Client Registration",o={},c=[{value:"Using Spring Boot Admin Client",id:"using-spring-boot-admin-client",level:2},{value:"Step 1: Add Dependencies",id:"step-1-add-dependencies",level:3},{value:"Step 2: Configure the Admin Server URL",id:"step-2-configure-the-admin-server-url",level:3},{value:"Step 3: Start Your Application",id:"step-3-start-your-application",level:3},{value:"Client Configuration Options",id:"client-configuration-options",level:3},{value:"Custom Instance Metadata",id:"custom-instance-metadata",level:4},{value:"Custom Service URL",id:"custom-service-url",level:4},{value:"Registration Interval",id:"registration-interval",level:4},{value:"Using Spring Cloud Discovery",id:"using-spring-cloud-discovery",level:2},{value:"Eureka Example",id:"eureka-example",level:3},{value:"Step 1: Add Eureka Client Dependency",id:"step-1-add-eureka-client-dependency",level:4},{value:"Step 2: Configure Eureka",id:"step-2-configure-eureka",level:4},{value:"Step 3: Enable Discovery on Admin Server",id:"step-3-enable-discovery-on-admin-server",level:4},{value:"Consul Example",id:"consul-example",level:3},{value:"Zookeeper Example",id:"zookeeper-example",level:3},{value:"Static Configuration",id:"static-configuration",level:2},{value:"Securing Client Registration",id:"securing-client-registration",level:2},{value:"Exposing Actuator Endpoints",id:"exposing-actuator-endpoints",level:2},{value:"Verifying Registration",id:"verifying-registration",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Application Not Appearing",id:"application-not-appearing",level:3},{value:"Registration Keeps Failing",id:"registration-keeps-failing",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Example Projects",id:"example-projects",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"client-registration",children:"Client Registration"})}),"\n",(0,r.jsx)(n.p,{children:"To monitor your applications with Spring Boot Admin, they need to register with the Admin Server. There are three main\napproaches to achieve this:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Spring Boot Admin Client"})," - Direct registration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Spring Cloud Discovery"})," - Automatic registration via service discovery"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Static Configuration"})," - Manual configuration on the server side"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"using-spring-boot-admin-client",children:"Using Spring Boot Admin Client"}),"\n",(0,r.jsx)(n.p,{children:"The Spring Boot Admin Client library enables applications to register themselves directly with the Admin Server."}),"\n",(0,r.jsx)(n.h3,{id:"step-1-add-dependencies",children:"Step 1: Add Dependencies"}),"\n",(0,r.jsx)(n.p,{children:"Add the Spring Boot Admin Client starter to your application:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="pom.xml"',children:"<dependency>\n    <groupId>de.codecentric</groupId>\n    <artifactId>spring-boot-admin-starter-client</artifactId>\n    <version>4.0.1</version>\n</dependency>\n"})}),"\n",(0,r.jsx)(n.p,{children:"For Gradle:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-groovy",metastring:'title="build.gradle"',children:"implementation 'de.codecentric:spring-boot-admin-starter-client:4.0.1'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-2-configure-the-admin-server-url",children:"Step 2: Configure the Admin Server URL"}),"\n",(0,r.jsxs)(n.p,{children:["Add the Admin Server URL to your ",(0,r.jsx)(n.code,{children:"application.properties"})," or ",(0,r.jsx)(n.code,{children:"application.yml"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="application.yml"',children:'spring:\n  boot:\n    admin:\n      client:\n        url: http://localhost:8080  # URL of your Admin Server\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: "*"  # Expose all actuator endpoints\n  endpoint:\n    health:\n      show-details: ALWAYS\n  info:\n    env:\n      enabled: true  # Enable the info endpoint\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",metastring:'title="application.properties"',children:"spring.boot.admin.client.url=http://localhost:8080\nmanagement.endpoints.web.exposure.include=*\nmanagement.endpoint.health.show-details=ALWAYS\nmanagement.info.env.enabled=true\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-3-start-your-application",children:"Step 3: Start Your Application"}),"\n",(0,r.jsx)(n.p,{children:"When your application starts, it will automatically register with the Admin Server. You'll see your application appear\nin the Admin Server's web interface."}),"\n",(0,r.jsx)(n.h3,{id:"client-configuration-options",children:"Client Configuration Options"}),"\n",(0,r.jsx)(n.h4,{id:"custom-instance-metadata",children:"Custom Instance Metadata"}),"\n",(0,r.jsx)(n.p,{children:"Add custom metadata to your application registration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="application.yml"',children:"spring:\n  boot:\n    admin:\n      client:\n        instance:\n          metadata:\n            tags:\n              environment: production\n              region: us-east-1\n            team: platform\n"})}),"\n",(0,r.jsx)(n.h4,{id:"custom-service-url",children:"Custom Service URL"}),"\n",(0,r.jsx)(n.p,{children:"Override the service URL that the Admin Server uses to connect:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="application.yml"',children:"spring:\n  boot:\n    admin:\n      client:\n        instance:\n          service-url: https://my-app.example.com\n          service-host-type: IP  # or CANONICAL\n"})}),"\n",(0,r.jsx)(n.h4,{id:"registration-interval",children:"Registration Interval"}),"\n",(0,r.jsx)(n.p,{children:"Configure how often the client registers with the server:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="application.yml"',children:"spring:\n  boot:\n    admin:\n      client:\n        period: 10000  # milliseconds (default: 10000)\n        auto-registration: true  # Enable/disable auto-registration\n"})}),"\n",(0,r.jsx)(n.h2,{id:"using-spring-cloud-discovery",children:"Using Spring Cloud Discovery"}),"\n",(0,r.jsx)(n.p,{children:"If you're using Spring Cloud Discovery (Eureka, Consul, Zookeeper), you don't need the Spring Boot Admin Client. The\nAdmin Server can discover applications automatically."}),"\n",(0,r.jsx)(n.h3,{id:"eureka-example",children:"Eureka Example"}),"\n",(0,r.jsx)(n.h4,{id:"step-1-add-eureka-client-dependency",children:"Step 1: Add Eureka Client Dependency"}),"\n",(0,r.jsx)(n.p,{children:"Add to your application:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="pom.xml"',children:"<dependency>\n    <groupId>org.springframework.cloud</groupId>\n    <artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\n</dependency>\n"})}),"\n",(0,r.jsx)(n.h4,{id:"step-2-configure-eureka",children:"Step 2: Configure Eureka"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="application.yml"',children:'eureka:\n  client:\n    serviceUrl:\n      defaultZone: http://localhost:8761/eureka/\n  instance:\n    leaseRenewalIntervalInSeconds: 10\n    health-check-url-path: /actuator/health\n    metadata-map:\n      startup: ${random.int}  # Trigger info update after restart\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: "*"\n  endpoint:\n    health:\n      show-details: ALWAYS\n'})}),"\n",(0,r.jsx)(n.h4,{id:"step-3-enable-discovery-on-admin-server",children:"Step 3: Enable Discovery on Admin Server"}),"\n",(0,r.jsx)(n.p,{children:"Add Eureka client to your Admin Server:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="pom.xml"',children:"<dependency>\n    <groupId>org.springframework.cloud</groupId>\n    <artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\n</dependency>\n"})}),"\n",(0,r.jsx)(n.p,{children:"Enable discovery in the Admin Server:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",metastring:'title="SpringBootAdminApplication.java"',children:"import org.springframework.cloud.client.discovery.EnableDiscoveryClient;\n\n@EnableDiscoveryClient\n@EnableAdminServer\n@SpringBootApplication\npublic class SpringBootAdminApplication {\n    static void main(String[] args) {\n        SpringApplication.run(SpringBootAdminApplication.class, args);\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"consul-example",children:"Consul Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="application.yml"',children:"spring:\n  cloud:\n    consul:\n      discovery:\n        metadata:\n          user-name: ${spring.security.user.name}\n          user-password: ${spring.security.user.password}\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:['Consul does not allow dots (".") in metadata keys. Use dashes instead (e.g., ',(0,r.jsx)(n.code,{children:"user-name"})," instead of ",(0,r.jsx)(n.code,{children:"user.name"}),")."]})}),"\n",(0,r.jsx)(n.h3,{id:"zookeeper-example",children:"Zookeeper Example"}),"\n",(0,r.jsxs)(n.p,{children:["For Zookeeper integration, see\nthe ",(0,r.jsx)(n.a,{href:"https://github.com/codecentric/spring-boot-admin/tree/master/spring-boot-admin-samples/spring-boot-admin-sample-zookeeper/",children:"spring-boot-admin-sample-zookeeper"}),"\nexample."]}),"\n",(0,r.jsx)(n.h2,{id:"static-configuration",children:"Static Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["You can configure applications statically on the Admin Server using Spring Cloud's ",(0,r.jsx)(n.code,{children:"SimpleDiscoveryClient"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="application.yml (Admin Server)"',children:"spring:\n  cloud:\n    discovery:\n      client:\n        simple:\n          instances:\n            my-application:\n              - uri: http://localhost:8081\n                metadata:\n                  management.context-path: /actuator\n"})}),"\n",(0,r.jsx)(n.p,{children:"This approach is useful for:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Legacy applications that can't be modified"}),"\n",(0,r.jsx)(n.li,{children:"Applications running in environments without service discovery"}),"\n",(0,r.jsx)(n.li,{children:"Static infrastructure setups"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"securing-client-registration",children:"Securing Client Registration"}),"\n",(0,r.jsx)(n.p,{children:"When your Admin Server is secured, clients need credentials to register:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="application.yml (Client)"',children:"spring:\n  boot:\n    admin:\n      client:\n        url: http://localhost:8080\n        username: admin\n        password: secret\n"})}),"\n",(0,r.jsxs)(n.p,{children:["For more details, see ",(0,r.jsx)(n.a,{href:"/4.0.1/docs/server/security",children:"Security"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"exposing-actuator-endpoints",children:"Exposing Actuator Endpoints"}),"\n",(0,r.jsx)(n.p,{children:"Spring Boot Admin requires access to actuator endpoints. Ensure they are properly exposed:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="application.yml"',children:'management:\n  endpoints:\n    web:\n      exposure:\n        include: "*"  # Expose all endpoints\n      # Or be more specific:\n      # include: health,info,metrics,env,loggers\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"In production, carefully consider which endpoints to expose and implement proper security measures."})}),"\n",(0,r.jsx)(n.h2,{id:"verifying-registration",children:"Verifying Registration"}),"\n",(0,r.jsx)(n.p,{children:"After configuring your client:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Start your Admin Server"}),"\n",(0,r.jsx)(n.li,{children:"Start your client application"}),"\n",(0,r.jsxs)(n.li,{children:["Navigate to the Admin Server UI (",(0,r.jsx)(n.code,{children:"http://localhost:8080"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Your application should appear in the applications list"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Check the logs for registration confirmation:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"INFO: Application registered itself as <instance-id>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"application-not-appearing",children:"Application Not Appearing"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Verify the Admin Server URL is correct"}),"\n",(0,r.jsx)(n.li,{children:"Check network connectivity between client and server"}),"\n",(0,r.jsx)(n.li,{children:"Ensure actuator endpoints are exposed"}),"\n",(0,r.jsx)(n.li,{children:"Review client logs for registration errors"}),"\n",(0,r.jsx)(n.li,{children:"Verify security credentials if server is secured"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"registration-keeps-failing",children:"Registration Keeps Failing"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check if the Admin Server is running"}),"\n",(0,r.jsx)(n.li,{children:"Verify firewall rules allow communication"}),"\n",(0,r.jsx)(n.li,{children:"Ensure the management port is accessible"}),"\n",(0,r.jsx)(n.li,{children:"Check for proxy or network configuration issues"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/4.0.1/docs/client/client-features",children:"Client Features"})," - Learn about version display, JMX, logs, and tags"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/4.0.1/docs/client/configuration",children:"Client Configuration"})," - Explore advanced client configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/4.0.1/docs/client/service-discovery",children:"Service Discovery"})," - Deep dive into Spring Cloud integration"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"example-projects",children:"Example Projects"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/codecentric/spring-boot-admin/tree/master/spring-boot-admin-samples/spring-boot-admin-sample-servlet/",children:"spring-boot-admin-sample-servlet"})," -\nDirect client registration with security"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/codecentric/spring-boot-admin/tree/master/spring-boot-admin-samples/spring-boot-admin-sample-eureka/",children:"spring-boot-admin-sample-eureka"})," -\nEureka discovery example"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/codecentric/spring-boot-admin/tree/master/spring-boot-admin-samples/spring-boot-admin-sample-consul/",children:"spring-boot-admin-sample-consul"})," -\nConsul discovery example"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var t=i(6540);const r={},s=t.createContext(r);function a(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);