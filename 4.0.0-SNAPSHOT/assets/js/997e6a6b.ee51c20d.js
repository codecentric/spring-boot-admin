"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[7482],{462:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"samples/sample-reactive","title":"Reactive Sample","description":"The Reactive sample demonstrates a Spring Boot Admin Server deployment using Spring WebFlux, the reactive, non-blocking","source":"@site/docs/09-samples/20-sample-reactive.md","sourceDirName":"09-samples","slug":"/samples/sample-reactive","permalink":"/4.0.0-SNAPSHOT/docs/samples/sample-reactive","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"sidebar_position":20,"sidebar_custom_props":{"icon":"file-code"}},"sidebar":"sidebar","previous":{"title":"Servlet Sample","permalink":"/4.0.0-SNAPSHOT/docs/samples/sample-servlet"},"next":{"title":"Eureka Sample","permalink":"/4.0.0-SNAPSHOT/docs/samples/sample-eureka"}}');var s=i(4848),t=i(8453);const l={sidebar_position:20,sidebar_custom_props:{icon:"file-code"}},c="Reactive Sample",a={},o=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Running the Sample",id:"running-the-sample",level:2},{value:"Quick Start (Insecure Mode)",id:"quick-start-insecure-mode",level:3},{value:"With Security Enabled",id:"with-security-enabled",level:3},{value:"Change Port",id:"change-port",level:3},{value:"Key Differences from Servlet Sample",id:"key-differences-from-servlet-sample",level:2},{value:"Dependencies",id:"dependencies",level:3},{value:"Reactive Architecture",id:"reactive-architecture",level:3},{value:"Application Structure",id:"application-structure",level:2},{value:"Main Application Class",id:"main-application-class",level:3},{value:"Security Configuration",id:"security-configuration",level:2},{value:"Insecure Profile (Default)",id:"insecure-profile-default",level:3},{value:"Secure Profile",id:"secure-profile",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Application Configuration",id:"application-configuration",level:3},{value:"Reactive Stack Benefits",id:"reactive-stack-benefits",level:2},{value:"1. Non-Blocking I/O",id:"1-non-blocking-io",level:3},{value:"2. Efficient Resource Usage",id:"2-efficient-resource-usage",level:3},{value:"3. Backpressure Support",id:"3-backpressure-support",level:3},{value:"4. Better for Microservices",id:"4-better-for-microservices",level:3},{value:"Testing the Sample",id:"testing-the-sample",level:2},{value:"Access the UI",id:"access-the-ui",level:3},{value:"Test Self-Monitoring",id:"test-self-monitoring",level:3},{value:"Test Reactive Behavior",id:"test-reactive-behavior",level:3},{value:"Performance Testing",id:"performance-testing",level:3},{value:"Build and Deploy",id:"build-and-deploy",level:2},{value:"Build JAR",id:"build-jar",level:3},{value:"Run JAR",id:"run-jar",level:3},{value:"With Security Profile",id:"with-security-profile",level:3},{value:"Production Configuration",id:"production-configuration",level:3},{value:"Comparison: Reactive vs. Servlet",id:"comparison-reactive-vs-servlet",level:2},{value:"When to Use Reactive Sample",id:"when-to-use-reactive-sample",level:2},{value:"Common Issues",id:"common-issues",level:2},{value:"ClassNotFoundException",id:"classnotfoundexception",level:3},{value:"Port Conflict",id:"port-conflict",level:3},{value:"Security Configuration Not Applied",id:"security-configuration-not-applied",level:3},{value:"Customization Ideas",id:"customization-ideas",level:2},{value:"Add Custom Reactive Notifier",id:"add-custom-reactive-notifier",level:3},{value:"Add WebClient Customization",id:"add-webclient-customization",level:3},{value:"Add Reactive Health Indicator",id:"add-reactive-health-indicator",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"See Also",id:"see-also",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"reactive-sample",children:"Reactive Sample"})}),"\n",(0,s.jsx)(n.p,{children:"The Reactive sample demonstrates a Spring Boot Admin Server deployment using Spring WebFlux, the reactive, non-blocking\nweb framework. This sample showcases how to run Admin Server in a fully reactive environment with minimal dependencies."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Location"}),": ",(0,s.jsx)(n.code,{children:"spring-boot-admin-samples/spring-boot-admin-sample-reactive/"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Features"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Reactive stack using Spring WebFlux"}),"\n",(0,s.jsx)(n.li,{children:"Non-blocking I/O operations"}),"\n",(0,s.jsx)(n.li,{children:"Spring Security for WebFlux"}),"\n",(0,s.jsx)(n.li,{children:"Self-monitoring using Admin Client"}),"\n",(0,s.jsx)(n.li,{children:"Profile-based security configuration"}),"\n",(0,s.jsx)(n.li,{children:"Minimal dependencies"}),"\n",(0,s.jsx)(n.li,{children:"DevTools support for development"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Java 17 or higher"}),"\n",(0,s.jsx)(n.li,{children:"Maven 3.6+"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"running-the-sample",children:"Running the Sample"}),"\n",(0,s.jsx)(n.h3,{id:"quick-start-insecure-mode",children:"Quick Start (Insecure Mode)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd spring-boot-admin-samples/spring-boot-admin-sample-reactive\nmvn spring-boot:run\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Access the application at: ",(0,s.jsx)(n.code,{children:"http://localhost:8080"})]}),"\n",(0,s.jsxs)(n.p,{children:["The application runs with the ",(0,s.jsx)(n.code,{children:"insecure"})," profile by default, allowing access without authentication."]}),"\n",(0,s.jsx)(n.h3,{id:"with-security-enabled",children:"With Security Enabled"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"mvn spring-boot:run -Dspring-boot.run.profiles=secure\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Login Credentials"}),": Configure in ",(0,s.jsx)(n.code,{children:"application.yml"})," or use default Spring Security credentials"]}),"\n",(0,s.jsx)(n.h3,{id:"change-port",children:"Change Port"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"SERVER_PORT=9090 mvn spring-boot:run\n"})}),"\n",(0,s.jsx)(n.h2,{id:"key-differences-from-servlet-sample",children:"Key Differences from Servlet Sample"}),"\n",(0,s.jsx)(n.h3,{id:"dependencies",children:"Dependencies"}),"\n",(0,s.jsx)(n.p,{children:"The reactive sample uses minimal dependencies:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<dependencies>\n    \x3c!-- Admin Server --\x3e\n    <dependency>\n        <groupId>de.codecentric</groupId>\n        <artifactId>spring-boot-admin-starter-server</artifactId>\n    </dependency>\n\n    \x3c!-- Admin Client (for self-monitoring) --\x3e\n    <dependency>\n        <groupId>de.codecentric</groupId>\n        <artifactId>spring-boot-admin-starter-client</artifactId>\n    </dependency>\n\n    \x3c!-- Security for WebFlux --\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-security</artifactId>\n    </dependency>\n\n    \x3c!-- DevTools --\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-devtools</artifactId>\n        <optional>true</optional>\n    </dependency>\n</dependencies>\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Notice"}),": No explicit WebFlux dependency needed - it's pulled in transitively by ",(0,s.jsx)(n.code,{children:"spring-boot-admin-starter-server"}),"\nwhen no servlet container is present."]}),"\n",(0,s.jsx)(n.h3,{id:"reactive-architecture",children:"Reactive Architecture"}),"\n",(0,s.jsx)(n.p,{children:"The reactive sample leverages:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Non-blocking I/O"}),": All HTTP requests are handled reactively"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Backpressure"}),": Built-in flow control for data streams"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Event Loop"}),": Efficient thread utilization with Netty"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reactive Types"}),": ",(0,s.jsx)(n.code,{children:"Mono"})," and ",(0,s.jsx)(n.code,{children:"Flux"})," for asynchronous operations"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"application-structure",children:"Application Structure"}),"\n",(0,s.jsx)(n.h3,{id:"main-application-class",children:"Main Application Class"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",metastring:'title="SpringBootAdminReactiveApplication.java"',children:"@SpringBootApplication\n@EnableAdminServer\npublic class SpringBootAdminReactiveApplication {\n\n    private final AdminServerProperties adminServer;\n\n    public SpringBootAdminReactiveApplication(AdminServerProperties adminServer) {\n        this.adminServer = adminServer;\n    }\n\n    static void main(String[] args) {\n        SpringApplication.run(SpringBootAdminReactiveApplication.class, args);\n    }\n\n    @Bean\n    public Notifier notifier() {\n        return (e) -> Mono.empty();  // No-op notifier\n    }\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Points"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@EnableAdminServer"})," enables Admin Server functionality"]}),"\n",(0,s.jsx)(n.li,{children:"AdminServerProperties injected for security configuration"}),"\n",(0,s.jsxs)(n.li,{children:["Simple no-op notifier returns ",(0,s.jsx)(n.code,{children:"Mono.empty()"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"security-configuration",children:"Security Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"insecure-profile-default",children:"Insecure Profile (Default)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Bean\n@Profile("insecure")\npublic SecurityWebFilterChain securityWebFilterChainPermitAll(\n        ServerHttpSecurity http) {\n    return http\n        .authorizeExchange((authorizeExchange) ->\n            authorizeExchange.anyExchange().permitAll())\n        .csrf(ServerHttpSecurity.CsrfSpec::disable)\n        .build();\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Characteristics"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"All endpoints accessible without authentication"}),"\n",(0,s.jsx)(n.li,{children:"CSRF protection disabled"}),"\n",(0,s.jsx)(n.li,{children:"Useful for development and testing"}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Development Only",type:"warning",children:(0,s.jsx)(n.p,{children:"The insecure profile should only be used for local development and testing. Always enable security when deploying."})}),"\n",(0,s.jsx)(n.h3,{id:"secure-profile",children:"Secure Profile"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Bean\n@Profile("secure")\npublic SecurityWebFilterChain securityWebFilterChainSecure(\n        ServerHttpSecurity http) {\n    return http\n        .authorizeExchange((authorizeExchange) ->\n            authorizeExchange\n                .pathMatchers(adminServer.path("/assets/**"))\n                    .permitAll()  // Static resources\n                .pathMatchers("/actuator/health/**")\n                    .permitAll()  // Health endpoint\n                .pathMatchers(adminServer.path("/login"))\n                    .permitAll()  // Login page\n                .anyExchange()\n                    .authenticated())  // Everything else requires auth\n        .formLogin((formLogin) -> formLogin\n            .loginPage(adminServer.path("/login"))\n            .authenticationSuccessHandler(\n                loginSuccessHandler(adminServer.path("/"))))\n        .logout((logout) -> logout\n            .logoutUrl(adminServer.path("/logout"))\n            .logoutSuccessHandler(\n                logoutSuccessHandler(adminServer.path("/login?logout"))))\n        .httpBasic(Customizer.withDefaults())\n        .csrf(ServerHttpSecurity.CsrfSpec::disable)  // Simplified for demo\n        .build();\n}\n\nprivate ServerAuthenticationSuccessHandler loginSuccessHandler(String uri) {\n    RedirectServerAuthenticationSuccessHandler successHandler =\n        new RedirectServerAuthenticationSuccessHandler();\n    successHandler.setLocation(URI.create(uri));\n    return successHandler;\n}\n\nprivate ServerLogoutSuccessHandler logoutSuccessHandler(String uri) {\n    RedirectServerLogoutSuccessHandler successHandler =\n        new RedirectServerLogoutSuccessHandler();\n    successHandler.setLogoutSuccessUrl(URI.create(uri));\n    return successHandler;\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Security Features"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Form Login"}),": Custom login page at Admin Server path"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"HTTP Basic"}),": Support for basic authentication"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Public Endpoints"}),": Static resources, health, and login page"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Custom Redirects"}),": Success handlers for login/logout"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Path-based Authorization"}),": Uses ",(0,s.jsx)(n.code,{children:"ServerHttpSecurity"})," for reactive security"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Reactive Security",type:"info",children:(0,s.jsxs)(n.p,{children:["Notice the use of ",(0,s.jsx)(n.code,{children:"SecurityWebFilterChain"})," and ",(0,s.jsx)(n.code,{children:"ServerHttpSecurity"})," instead of servlet-based ",(0,s.jsx)(n.code,{children:"SecurityFilterChain"})," and\n",(0,s.jsx)(n.code,{children:"HttpSecurity"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"application-configuration",children:"Application Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title="application.yml"',children:'spring:\n  application:\n    name: spring-boot-admin-sample-reactive\n\n  boot:\n    admin:\n      client:\n        url: http://localhost:8080  # Self-registration\n\n  profiles:\n    active:\n      - insecure  # Default profile\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: "*"\n  endpoint:\n    health:\n      show-details: ALWAYS\n\nlogging:\n  file:\n    name: "target/boot-admin-sample-reactive.log"\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Configuration Highlights"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Self-monitoring via Admin Client"}),"\n",(0,s.jsx)(n.li,{children:"All actuator endpoints exposed"}),"\n",(0,s.jsx)(n.li,{children:"Health details always shown"}),"\n",(0,s.jsx)(n.li,{children:"Insecure profile active by default"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"reactive-stack-benefits",children:"Reactive Stack Benefits"}),"\n",(0,s.jsx)(n.h3,{id:"1-non-blocking-io",children:"1. Non-Blocking I/O"}),"\n",(0,s.jsx)(n.p,{children:"All operations are non-blocking:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// Instance queries are reactive\nFlux<Instance> instances = instanceRepository.findAll();\n\n// Event streams are reactive\nFlux<InstanceEvent> events = eventStore.findAll();\n\n// HTTP calls are reactive\nMono<ClientResponse> response = webClient\n    .get()\n    .uri("/actuator/health")\n    .exchange();\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-efficient-resource-usage",children:"2. Efficient Resource Usage"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Thread Pool"}),": Small fixed thread pool (typically 2x CPU cores)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Memory"}),": Lower memory footprint"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Scalability"}),": Handles more concurrent connections with fewer threads"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-backpressure-support",children:"3. Backpressure Support"}),"\n",(0,s.jsx)(n.p,{children:"The reactive stack automatically handles backpressure:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// Slow consumers won't overwhelm fast producers\neventStore.findAll()\n    .limitRate(100)  // Process 100 events at a time\n    .subscribe(event -> processEvent(event));\n"})}),"\n",(0,s.jsx)(n.h3,{id:"4-better-for-microservices",children:"4. Better for Microservices"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Resilience"}),": Non-blocking calls prevent thread exhaustion"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Latency"}),": Better tail latency under load"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Throughput"}),": Higher throughput for I/O-bound operations"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"testing-the-sample",children:"Testing the Sample"}),"\n",(0,s.jsx)(n.h3,{id:"access-the-ui",children:"Access the UI"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Start the application"}),"\n",(0,s.jsxs)(n.li,{children:["Navigate to ",(0,s.jsx)(n.code,{children:"http://localhost:8080"})]}),"\n",(0,s.jsx)(n.li,{children:"No login required (insecure mode)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"test-self-monitoring",children:"Test Self-Monitoring"}),"\n",(0,s.jsx)(n.p,{children:"The application monitors itself:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Application name: ",(0,s.jsx)(n.code,{children:"spring-boot-admin-sample-reactive"})]}),"\n",(0,s.jsx)(n.li,{children:"Status: UP"}),"\n",(0,s.jsx)(n.li,{children:"All actuator endpoints available"}),"\n",(0,s.jsxs)(n.li,{children:["Check logs: ",(0,s.jsx)(n.code,{children:"target/boot-admin-sample-reactive.log"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"test-reactive-behavior",children:"Test Reactive Behavior"}),"\n",(0,s.jsx)(n.p,{children:"Monitor thread usage:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Check thread count (should be low)\njcmd <pid> Thread.print | grep "nioEventLoopGroup" | wc -l\n'})}),"\n",(0,s.jsx)(n.p,{children:"Expected: ~4-8 threads vs. hundreds in servlet mode under load"}),"\n",(0,s.jsx)(n.h3,{id:"performance-testing",children:"Performance Testing"}),"\n",(0,s.jsx)(n.p,{children:"Compare reactive vs. servlet performance:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Reactive sample\nab -n 10000 -c 100 http://localhost:8080/actuator/health\n\n# Servlet sample\nab -n 10000 -c 100 http://localhost:8081/actuator/health\n"})}),"\n",(0,s.jsx)(n.p,{children:"Reactive should handle higher concurrency with fewer resources."}),"\n",(0,s.jsx)(n.h2,{id:"build-and-deploy",children:"Build and Deploy"}),"\n",(0,s.jsx)(n.h3,{id:"build-jar",children:"Build JAR"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"mvn clean package\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Produces: ",(0,s.jsx)(n.code,{children:"target/spring-boot-admin-sample-reactive.jar"})]}),"\n",(0,s.jsx)(n.h3,{id:"run-jar",children:"Run JAR"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"java -jar target/spring-boot-admin-sample-reactive.jar\n"})}),"\n",(0,s.jsx)(n.h3,{id:"with-security-profile",children:"With Security Profile"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"java -jar target/spring-boot-admin-sample-reactive.jar \\\n  --spring.profiles.active=secure\n"})}),"\n",(0,s.jsx)(n.h3,{id:"production-configuration",children:"Production Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Example production configuration:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"spring:\n  profiles:\n    active:\n      - secure  # Enable security\n\n  security:\n    user:\n      name: admin\n      password: ${ADMIN_PASSWORD}\n\nserver:\n  port: 8443\n  ssl:\n    enabled: true\n    key-store: classpath:keystore.p12\n    key-store-password: ${KEYSTORE_PASSWORD}\n\nmanagement:\n  server:\n    port: 8081  # Separate management port\n"})}),"\n",(0,s.jsx)(n.h2,{id:"comparison-reactive-vs-servlet",children:"Comparison: Reactive vs. Servlet"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Aspect"}),(0,s.jsx)(n.th,{children:"Reactive Sample"}),(0,s.jsx)(n.th,{children:"Servlet Sample"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Web Stack"})}),(0,s.jsx)(n.td,{children:"WebFlux (Netty)"}),(0,s.jsx)(n.td,{children:"Spring MVC (Tomcat)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Thread Model"})}),(0,s.jsx)(n.td,{children:"Event loop (4-8 threads)"}),(0,s.jsx)(n.td,{children:"Thread per request (200+ threads)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"I/O Model"})}),(0,s.jsx)(n.td,{children:"Non-blocking"}),(0,s.jsx)(n.td,{children:"Blocking"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Memory"})}),(0,s.jsx)(n.td,{children:"Lower footprint"}),(0,s.jsx)(n.td,{children:"Higher footprint"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Scalability"})}),(0,s.jsx)(n.td,{children:"High (10K+ connections)"}),(0,s.jsx)(n.td,{children:"Medium (100s of connections)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Complexity"})}),(0,s.jsx)(n.td,{children:"Higher learning curve"}),(0,s.jsx)(n.td,{children:"Traditional, simpler"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Dependencies"})}),(0,s.jsx)(n.td,{children:"Minimal"}),(0,s.jsx)(n.td,{children:"More dependencies"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Use Case"})}),(0,s.jsx)(n.td,{children:"High concurrency, I/O-bound"}),(0,s.jsx)(n.td,{children:"CPU-bound, traditional apps"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"when-to-use-reactive-sample",children:"When to Use Reactive Sample"}),"\n",(0,s.jsxs)(n.p,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Use Reactive When"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Monitoring many instances (100+)"}),"\n",(0,s.jsx)(n.li,{children:"High concurrency requirements"}),"\n",(0,s.jsx)(n.li,{children:"Microservices architecture"}),"\n",(0,s.jsx)(n.li,{children:"Cloud-native deployments"}),"\n",(0,s.jsx)(n.li,{children:"Limited resources (memory/CPU)"}),"\n",(0,s.jsx)(n.li,{children:"I/O-bound workloads"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u274c ",(0,s.jsx)(n.strong,{children:"Use Servlet When"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Traditional monolithic applications"}),"\n",(0,s.jsx)(n.li,{children:"Team unfamiliar with reactive programming"}),"\n",(0,s.jsx)(n.li,{children:"Heavy CPU-bound processing"}),"\n",(0,s.jsx)(n.li,{children:"Existing servlet-based infrastructure"}),"\n",(0,s.jsx)(n.li,{children:"Simpler debugging requirements"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"common-issues",children:"Common Issues"}),"\n",(0,s.jsx)(n.h3,{id:"classnotfoundexception",children:"ClassNotFoundException"}),"\n",(0,s.jsx)(n.p,{children:"If you see WebFlux-related errors:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"java.lang.ClassNotFoundException: reactor.netty.http.server.HttpServer\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),": Ensure no servlet dependencies are present:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"\x3c!-- Remove if present --\x3e\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-webmvc</artifactId>\n</dependency>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"port-conflict",children:"Port Conflict"}),"\n",(0,s.jsx)(n.p,{children:"If port 8080 is in use:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"SERVER_PORT=9090 mvn spring-boot:run\n"})}),"\n",(0,s.jsx)(n.h3,{id:"security-configuration-not-applied",children:"Security Configuration Not Applied"}),"\n",(0,s.jsx)(n.p,{children:"If security profile doesn't work:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Verify active profiles\ncurl http://localhost:8080/actuator/env | jq '.activeProfiles'\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Ensure profile is set correctly in ",(0,s.jsx)(n.code,{children:"application.yml"})," or via command line."]}),"\n",(0,s.jsx)(n.h2,{id:"customization-ideas",children:"Customization Ideas"}),"\n",(0,s.jsx)(n.h3,{id:"add-custom-reactive-notifier",children:"Add Custom Reactive Notifier"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Bean\npublic Notifier customReactiveNotifier() {\n    return (event) -> {\n        return webClient\n            .post()\n            .uri("https://webhook.site/...")\n            .bodyValue(event)\n            .retrieve()\n            .bodyToMono(Void.class)\n            .onErrorResume(e -> {\n                log.error("Notification failed", e);\n                return Mono.empty();\n            });\n    };\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"add-webclient-customization",children:"Add WebClient Customization"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Bean\npublic InstanceWebClientCustomizer customTimeout() {\n    return (builder) -> builder\n        .clientConnector(new ReactorClientHttpConnector(\n            HttpClient.create()\n                .responseTimeout(Duration.ofSeconds(10))\n        ));\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"add-reactive-health-indicator",children:"Add Reactive Health Indicator"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Component\npublic class CustomHealthIndicator implements ReactiveHealthIndicator {\n\n    @Override\n    public Mono<Health> health() {\n        return Mono.just(Health.up()\n            .withDetail("custom", "Reactive health check")\n            .build());\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,s.jsx)(n.p,{children:"This sample demonstrates:"}),"\n",(0,s.jsxs)(n.p,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Reactive Architecture"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Non-blocking I/O with WebFlux"}),"\n",(0,s.jsx)(n.li,{children:"Efficient resource utilization"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Security Options"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Profile-based security configuration"}),"\n",(0,s.jsx)(n.li,{children:"Reactive security filters"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Minimal Dependencies"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Lightweight deployment"}),"\n",(0,s.jsx)(n.li,{children:"Faster startup time"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Fully Configured"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Self-monitoring capability"}),"\n",(0,s.jsx)(n.li,{children:"Scalable architecture"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Explore ",(0,s.jsx)(n.a,{href:"/4.0.0-SNAPSHOT/docs/samples/sample-servlet",children:"Servlet Sample"})," for traditional deployment"]}),"\n",(0,s.jsxs)(n.li,{children:["Review ",(0,s.jsx)(n.a,{href:"/4.0.0-SNAPSHOT/docs/samples/sample-eureka",children:"Eureka Sample"})," for service discovery"]}),"\n",(0,s.jsxs)(n.li,{children:["Check ",(0,s.jsx)(n.a,{href:"/4.0.0-SNAPSHOT/docs/samples/sample-hazelcast",children:"Hazelcast Sample"})," for clustering"]}),"\n",(0,s.jsxs)(n.li,{children:["Read ",(0,s.jsx)(n.a,{href:"../06-customization/",children:"Customization Guide"})," for extensions"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/4.0.0-SNAPSHOT/docs/server/server",children:"Server Configuration"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/4.0.0-SNAPSHOT/docs/client/registration",children:"Client Registration"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.spring.io/spring-framework/reference/web/webflux.html",children:"Spring WebFlux Documentation"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>c});var r=i(6540);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);