"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[9271],{1021:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"reference/event-types","title":"Event Types Reference","description":"Complete reference of all InstanceEvent types emitted by Spring Boot Admin Server during instance lifecycle.","source":"@site/docs/10-reference/10-event-types.md","sourceDirName":"10-reference","slug":"/reference/event-types","permalink":"/4.0.0-SNAPSHOT/docs/reference/event-types","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10,"sidebar_custom_props":{"icon":"book"}},"sidebar":"sidebar","previous":{"title":"Reference Documentation","permalink":"/4.0.0-SNAPSHOT/docs/reference/"},"next":{"title":"REST API Reference","permalink":"/4.0.0-SNAPSHOT/docs/reference/rest-api"}}');var i=s(4848),r=s(8453);const c={sidebar_position:10,sidebar_custom_props:{icon:"book"}},l="Event Types Reference",a={},d=[{value:"Event Base Class",id:"event-base-class",level:2},{value:"Event Lifecycle",id:"event-lifecycle",level:2},{value:"Event Types",id:"event-types",level:2},{value:"1. REGISTERED",id:"1-registered",level:3},{value:"2. REGISTRATION_UPDATED",id:"2-registration_updated",level:3},{value:"3. DEREGISTERED",id:"3-deregistered",level:3},{value:"4. STATUS_CHANGED",id:"4-status_changed",level:3},{value:"5. ENDPOINTS_DETECTED",id:"5-endpoints_detected",level:3},{value:"6. INFO_CHANGED",id:"6-info_changed",level:3},{value:"Event Ordering",id:"event-ordering",level:2},{value:"Event Persistence",id:"event-persistence",level:2},{value:"Listening to Events",id:"listening-to-events",level:2},{value:"Spring Event Listener",id:"spring-event-listener",level:3},{value:"Custom Notifier",id:"custom-notifier",level:3},{value:"Event Stream (SSE)",id:"event-stream-sse",level:3},{value:"Event Filtering",id:"event-filtering",level:2},{value:"Event Reminders",id:"event-reminders",level:2},{value:"See Also",id:"see-also",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"event-types-reference",children:"Event Types Reference"})}),"\n",(0,i.jsxs)(n.p,{children:["Complete reference of all ",(0,i.jsx)(n.code,{children:"InstanceEvent"})," types emitted by Spring Boot Admin Server during instance lifecycle."]}),"\n",(0,i.jsx)(n.h2,{id:"event-base-class",children:"Event Base Class"}),"\n",(0,i.jsxs)(n.p,{children:["All events extend ",(0,i.jsx)(n.code,{children:"InstanceEvent"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public abstract class InstanceEvent implements Serializable {\n\tprivate final InstanceId instance;     // Unique instance identifier\n\tprivate final long version;            // Event version (incremental)\n\tprivate final Instant timestamp;       // When event occurred\n\tprivate final String type;             // Event type constant\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Common Properties"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"instance"}),": Unique ID of the instance (e.g., ",(0,i.jsx)(n.code,{children:'"abc123def456"'}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"version"}),": Monotonically increasing version number"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"timestamp"}),": ISO-8601 timestamp when event was created"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"type"}),": String constant identifying the event type"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"event-lifecycle",children:"Event Lifecycle"}),"\n",(0,i.jsx)(n.p,{children:"Typical event sequence for an instance:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"1. REGISTERED           \u2192 Instance first registers\n2. ENDPOINTS_DETECTED   \u2192 Actuator endpoints discovered\n3. STATUS_CHANGED       \u2192 Health status updated to UP\n4. INFO_CHANGED         \u2192 Info endpoint data loaded\n5. STATUS_CHANGED       \u2192 Status changes during lifecycle\n6. REGISTRATION_UPDATED \u2192 Registration info changes (optional)\n7. DEREGISTERED         \u2192 Instance unregisters\n"})}),"\n",(0,i.jsx)(n.h2,{id:"event-types",children:"Event Types"}),"\n",(0,i.jsx)(n.h3,{id:"1-registered",children:"1. REGISTERED"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Class"}),": ",(0,i.jsx)(n.code,{children:"InstanceRegisteredEvent"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type Constant"}),": ",(0,i.jsx)(n.code,{children:'"REGISTERED"'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"When Emitted"}),": Instance first registers with Admin Server"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public class InstanceRegisteredEvent extends InstanceEvent {\n\tRegistration registration;  // Complete registration info\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Registration Contents"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"name"}),": Application name"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"managementUrl"}),": Actuator base URL"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"healthUrl"}),": Health endpoint URL"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"serviceUrl"}),": Application base URL"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"source"}),': Registration source (e.g., "http-api", "discovery")']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"metadata"}),": Custom metadata map"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "instance": "abc123def456",\n  "version": 0,\n  "timestamp": "2026-02-07T10:00:00Z",\n  "type": "REGISTERED",\n  "registration": {\n    "name": "my-service",\n    "managementUrl": "http://localhost:8080/actuator",\n    "healthUrl": "http://localhost:8080/actuator/health",\n    "serviceUrl": "http://localhost:8080",\n    "source": "http-api",\n    "metadata": {\n      "startup": "2026-02-07T09:59:55Z"\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use Cases"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Send welcome notifications"}),"\n",(0,i.jsx)(n.li,{children:"Initialize instance-specific monitoring"}),"\n",(0,i.jsx)(n.li,{children:"Log new instance registrations"}),"\n",(0,i.jsx)(n.li,{children:"Trigger discovery of endpoints"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example Listener"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'\n@Component\npublic class RegistrationListener {\n\n\t@EventListener\n\tpublic void onInstanceRegistered(InstanceRegisteredEvent event) {\n\t\tlog.info("New instance registered: {} at {}",\n\t\t\t\tevent.getRegistration().getName(),\n\t\t\t\tevent.getRegistration().getServiceUrl());\n\t}\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"2-registration_updated",children:"2. REGISTRATION_UPDATED"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Class"}),": ",(0,i.jsx)(n.code,{children:"InstanceRegistrationUpdatedEvent"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type Constant"}),": ",(0,i.jsx)(n.code,{children:'"REGISTRATION_UPDATED"'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"When Emitted"}),": Instance updates its registration (URL, metadata, etc.)"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public class InstanceRegistrationUpdatedEvent extends InstanceEvent {\n\tRegistration registration;  // Updated registration info\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Common Triggers"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Instance IP address changes"}),"\n",(0,i.jsx)(n.li,{children:"Management port changes"}),"\n",(0,i.jsx)(n.li,{children:"Metadata updates"}),"\n",(0,i.jsx)(n.li,{children:"Health URL changes"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "instance": "abc123def456",\n  "version": 5,\n  "timestamp": "2026-02-07T11:00:00Z",\n  "type": "REGISTRATION_UPDATED",\n  "registration": {\n    "name": "my-service",\n    "managementUrl": "http://192.168.1.100:8080/actuator",\n    "healthUrl": "http://192.168.1.100:8080/actuator/health",\n    "serviceUrl": "http://192.168.1.100:8080",\n    "metadata": {\n      "version": "2.0.0"\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use Cases"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Detect instance migrations"}),"\n",(0,i.jsx)(n.li,{children:"Update monitoring endpoints"}),"\n",(0,i.jsx)(n.li,{children:"Track configuration changes"}),"\n",(0,i.jsx)(n.li,{children:"Trigger re-discovery of endpoints"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"3-deregistered",children:"3. DEREGISTERED"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Class"}),": ",(0,i.jsx)(n.code,{children:"InstanceDeregisteredEvent"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type Constant"}),": ",(0,i.jsx)(n.code,{children:'"DEREGISTERED"'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"When Emitted"}),": Instance unregisters (shutdown, explicit deregistration)"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public class InstanceDeregisteredEvent extends InstanceEvent {\n\t// No additional fields - just base InstanceEvent fields\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "instance": "abc123def456",\n  "version": 10,\n  "timestamp": "2026-02-07T12:00:00Z",\n  "type": "DEREGISTERED"\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use Cases"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Send shutdown notifications"}),"\n",(0,i.jsx)(n.li,{children:"Clean up instance-specific resources"}),"\n",(0,i.jsx)(n.li,{children:"Log instance lifecycle"}),"\n",(0,i.jsx)(n.li,{children:"Trigger alerts for unexpected shutdowns"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example Listener"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'\n@EventListener\npublic void onInstanceDeregistered(InstanceDeregisteredEvent event) {\n\tInstant timestamp = event.getTimestamp();\n\tlong version = event.getVersion();\n\n\tlog.info("Instance {} deregistered after {} events",\n\t\t\tevent.getInstance(), version);\n\n\t// Cleanup resources\n\tcleanupResourcesFor(event.getInstance());\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"4-status_changed",children:"4. STATUS_CHANGED"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Class"}),": ",(0,i.jsx)(n.code,{children:"InstanceStatusChangedEvent"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type Constant"}),": ",(0,i.jsx)(n.code,{children:'"STATUS_CHANGED"'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"When Emitted"}),": Instance health status changes"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public class InstanceStatusChangedEvent extends InstanceEvent {\n\tStatusInfo statusInfo;  // Current status information\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"StatusInfo Contents"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"status"}),": Current status (",(0,i.jsx)(n.code,{children:"UP"}),", ",(0,i.jsx)(n.code,{children:"DOWN"}),", ",(0,i.jsx)(n.code,{children:"OUT_OF_SERVICE"}),", ",(0,i.jsx)(n.code,{children:"UNKNOWN"}),", ",(0,i.jsx)(n.code,{children:"OFFLINE"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"details"}),": Map of health details from actuator"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Status Values"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"UP"}),": Application is healthy"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DOWN"}),": Application is unhealthy"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"OUT_OF_SERVICE"}),": Temporarily unavailable"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"UNKNOWN"}),": Status cannot be determined"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"OFFLINE"}),": Instance not responding"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"RESTRICTED"}),": Custom status"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "instance": "abc123def456",\n  "version": 3,\n  "timestamp": "2026-02-07T10:05:00Z",\n  "type": "STATUS_CHANGED",\n  "statusInfo": {\n    "status": "UP",\n    "details": {\n      "diskSpace": {\n        "status": "UP",\n        "total": 500000000000,\n        "free": 250000000000\n      },\n      "db": {\n        "status": "UP",\n        "database": "PostgreSQL",\n        "validationQuery": "isValid()"\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use Cases"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Send alerts on status changes (UP \u2192 DOWN)"}),"\n",(0,i.jsx)(n.li,{children:"Track uptime/downtime"}),"\n",(0,i.jsx)(n.li,{children:"Trigger automated recovery"}),"\n",(0,i.jsx)(n.li,{children:"Update dashboards"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example Listener"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'\n@EventListener\npublic void onStatusChanged(InstanceStatusChangedEvent event) {\n\tStatusInfo statusInfo = event.getStatusInfo();\n\tString status = statusInfo.getStatus();\n\n\tif ("DOWN".equals(status)) {\n\t\talertService.sendAlert(\n\t\t\t\t"Instance " + event.getInstance() + " is DOWN",\n\t\t\t\tstatusInfo.getDetails()\n\t\t);\n\t}\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"5-endpoints_detected",children:"5. ENDPOINTS_DETECTED"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Class"}),": ",(0,i.jsx)(n.code,{children:"InstanceEndpointsDetectedEvent"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type Constant"}),": ",(0,i.jsx)(n.code,{children:'"ENDPOINTS_DETECTED"'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"When Emitted"}),": Actuator endpoints are discovered"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public class InstanceEndpointsDetectedEvent extends InstanceEvent {\n\tEndpoints endpoints;  // Discovered endpoints\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Endpoints Contents"}),":\nList of ",(0,i.jsx)(n.code,{children:"Endpoint"})," objects, each containing:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"id"}),': Endpoint ID (e.g., "health", "metrics", "env")']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"url"}),": Full endpoint URL"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "instance": "abc123def456",\n  "version": 1,\n  "timestamp": "2026-02-07T10:00:05Z",\n  "type": "ENDPOINTS_DETECTED",\n  "endpoints": [\n    {\n      "id": "health",\n      "url": "http://localhost:8080/actuator/health"\n    },\n    {\n      "id": "metrics",\n      "url": "http://localhost:8080/actuator/metrics"\n    },\n    {\n      "id": "env",\n      "url": "http://localhost:8080/actuator/env"\n    },\n    {\n      "id": "loggers",\n      "url": "http://localhost:8080/actuator/loggers"\n    }\n  ]\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use Cases"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Enable/disable UI views based on available endpoints"}),"\n",(0,i.jsx)(n.li,{children:"Start monitoring specific endpoints"}),"\n",(0,i.jsx)(n.li,{children:"Validate expected endpoints are present"}),"\n",(0,i.jsx)(n.li,{children:"Trigger custom endpoint polling"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example Listener"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'\n@EventListener\npublic void onEndpointsDetected(InstanceEndpointsDetectedEvent event) {\n\tEndpoints endpoints = event.getEndpoints();\n\n\tboolean hasMetrics = endpoints.get("metrics").isPresent();\n\tboolean hasLoggers = endpoints.get("loggers").isPresent();\n\n\tif (hasMetrics && hasLoggers) {\n\t\t// Enable advanced monitoring\n\t\tadvancedMonitoring.enable(event.getInstance());\n\t}\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"6-info_changed",children:"6. INFO_CHANGED"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Class"}),": ",(0,i.jsx)(n.code,{children:"InstanceInfoChangedEvent"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type Constant"}),": ",(0,i.jsx)(n.code,{children:'"INFO_CHANGED"'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"When Emitted"}),": Info endpoint data changes"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public class InstanceInfoChangedEvent extends InstanceEvent {\n\tInfo info;  // Info endpoint data\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Info Contents"}),":\nMap of arbitrary info data from ",(0,i.jsx)(n.code,{children:"/actuator/info"}),", commonly including:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"build"}),": Build information (version, time, artifact)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"git"}),": Git information (commit, branch, time)"]}),"\n",(0,i.jsx)(n.li,{children:"Custom application metadata"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "instance": "abc123def456",\n  "version": 2,\n  "timestamp": "2026-02-07T10:00:10Z",\n  "type": "INFO_CHANGED",\n  "info": {\n    "build": {\n      "version": "1.0.0",\n      "artifact": "my-service",\n      "name": "my-service",\n      "time": "2026-02-07T09:00:00Z"\n    },\n    "git": {\n      "branch": "main",\n      "commit": {\n        "id": "abc123",\n        "time": "2026-02-06T15:30:00Z"\n      }\n    },\n    "custom": {\n      "team": "Platform",\n      "environment": "production"\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use Cases"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Track deployed versions"}),"\n",(0,i.jsx)(n.li,{children:"Display build information in UI"}),"\n",(0,i.jsx)(n.li,{children:"Verify correct version deployed"}),"\n",(0,i.jsx)(n.li,{children:"Trigger version-specific logic"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"event-ordering",children:"Event Ordering"}),"\n",(0,i.jsxs)(n.p,{children:["Events are ordered by ",(0,i.jsx)(n.code,{children:"version"})," number, which is monotonically increasing per instance:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"version 0: REGISTERED\nversion 1: ENDPOINTS_DETECTED\nversion 2: STATUS_CHANGED (to UP)\nversion 3: INFO_CHANGED\nversion 4: STATUS_CHANGED (to DOWN)\nversion 5: STATUS_CHANGED (to UP)\nversion 6: DEREGISTERED\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Important"}),": Version numbers are unique per instance and always increase."]}),"\n",(0,i.jsx)(n.h2,{id:"event-persistence",children:"Event Persistence"}),"\n",(0,i.jsxs)(n.p,{children:["Events are stored in the ",(0,i.jsx)(n.code,{children:"InstanceEventStore"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"InMemoryEventStore"}),": Non-persistent, lost on restart"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"HazelcastEventStore"}),": Distributed, persisted across cluster"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Event Compaction"}),": Old events are compacted to prevent unlimited growth:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"spring:\n  boot:\n    admin:\n      event-store:\n        max-log-size-per-aggregate: 100  # Keep last 100 events per instance\n"})}),"\n",(0,i.jsx)(n.h2,{id:"listening-to-events",children:"Listening to Events"}),"\n",(0,i.jsx)(n.h3,{id:"spring-event-listener",children:"Spring Event Listener"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'\n@Component\npublic class MyEventListener {\n\n\t@EventListener\n\tpublic void onAnyInstanceEvent(InstanceEvent event) {\n\t\tlog.info("Event: {} for instance {} at version {}",\n\t\t\t\tevent.getType(), event.getInstance(), event.getVersion());\n\t}\n\n\t@EventListener\n\tpublic void onSpecificEvent(InstanceStatusChangedEvent event) {\n\t\t// Handle specific event type\n\t}\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"custom-notifier",children:"Custom Notifier"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'\n@Component\npublic class CustomNotifier extends AbstractEventNotifier {\n\n\tpublic CustomNotifier(InstanceRepository repository) {\n\t\tsuper(repository);\n\t}\n\n\t@Override\n\tprotected Mono<Void> doNotify(InstanceEvent event, Instance instance) {\n\t\treturn Mono.fromRunnable(() -> {\n\t\t\tswitch (event.getType()) {\n\t\t\t\tcase "STATUS_CHANGED":\n\t\t\t\t\thandleStatusChange((InstanceStatusChangedEvent) event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase "REGISTERED":\n\t\t\t\t\thandleRegistration((InstanceRegisteredEvent) event);\n\t\t\t\t\tbreak;\n\t\t\t\t// Handle other events\n\t\t\t}\n\t\t});\n\t}\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"event-stream-sse",children:"Event Stream (SSE)"}),"\n",(0,i.jsx)(n.p,{children:"Subscribe to event stream via REST API:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl -N http://localhost:8080/instances/events\n"})}),"\n",(0,i.jsx)(n.p,{children:"Returns Server-Sent Events (SSE) stream:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'data:{"instance":"abc123","version":0,"type":"REGISTERED",...}\n\ndata:{"instance":"abc123","version":1,"type":"ENDPOINTS_DETECTED",...}\n\ndata:{"instance":"abc123","version":2,"type":"STATUS_CHANGED",...}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"event-filtering",children:"Event Filtering"}),"\n",(0,i.jsxs)(n.p,{children:["Filter events by type using ",(0,i.jsx)(n.code,{children:"FilteringNotifier"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"\n@Bean\npublic FilteringNotifier filteringNotifier(Notifier delegate,\n\t\t\t\t\t\t\t\t\t\t   InstanceRepository repository) {\n\tFilteringNotifier notifier = new FilteringNotifier(delegate, repository);\n\tnotifier.setFilterExpression(\"!(type == 'INFO_CHANGED')\");  // Exclude INFO_CHANGED\n\treturn notifier;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Filter Expression Language"}),": SpEL (Spring Expression Language)"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Available Variables"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"type"}),": Event type string"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"instance"}),": Instance ID"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"version"}),": Event version"]}),"\n",(0,i.jsxs)(n.li,{children:["Event-specific fields (e.g., ",(0,i.jsx)(n.code,{children:"statusInfo.status"})," for STATUS_CHANGED)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Examples"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Only DOWN events\n\"type == 'STATUS_CHANGED' && statusInfo.status == 'DOWN'\"\n\n// Exclude INFO_CHANGED and ENDPOINTS_DETECTED\n\t\t\"!(type == 'INFO_CHANGED' || type == 'ENDPOINTS_DETECTED')\"\n\n// Only production instances (via metadata)\n\t\t\"metadata['environment'] == 'production'\"\n"})}),"\n",(0,i.jsx)(n.h2,{id:"event-reminders",children:"Event Reminders"}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.code,{children:"RemindingNotifier"})," to send periodic reminders:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"\n@Bean\npublic RemindingNotifier remindingNotifier(Notifier delegate,\n\t\t\t\t\t\t\t\t\t\t   InstanceRepository repository) {\n\tRemindingNotifier notifier = new RemindingNotifier(delegate, repository);\n\tnotifier.setReminderPeriod(Duration.ofMinutes(10));\n\tnotifier.setCheckReminderInverval(Duration.ofSeconds(60));\n\treturn notifier;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Sends reminders for instances still in non-UP status after configured period."}),"\n",(0,i.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/4.0.0-SNAPSHOT/docs/server/notifications/custom-notifiers",children:"Custom Notifiers"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/4.0.0-SNAPSHOT/docs/server/instance-registry",children:"Instance Registry"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/4.0.0-SNAPSHOT/docs/reference/rest-api",children:"REST API"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>l});var t=s(6540);const i={},r=t.createContext(i);function c(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);