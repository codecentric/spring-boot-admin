"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[3128],{3486:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"samples/sample-servlet","title":"Servlet Sample","description":"The Servlet sample demonstrates a complete Spring Boot Admin Server deployment using traditional servlet-based Spring","source":"@site/docs/09-samples/10-sample-servlet.md","sourceDirName":"09-samples","slug":"/samples/sample-servlet","permalink":"/4.1.0-SNAPSHOT/docs/samples/sample-servlet","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10,"sidebar_custom_props":{"icon":"file-code"}},"sidebar":"sidebar","previous":{"title":"Sample Projects","permalink":"/4.1.0-SNAPSHOT/docs/samples/"},"next":{"title":"Reactive Sample","permalink":"/4.1.0-SNAPSHOT/docs/samples/sample-reactive"}}');var t=i(4848),r=i(8453);const a={sidebar_position:10,sidebar_custom_props:{icon:"file-code"}},l="Servlet Sample",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Running the Sample",id:"running-the-sample",level:2},{value:"Quick Start",id:"quick-start",level:3},{value:"With Security Enabled",id:"with-security-enabled",level:3},{value:"Change Port",id:"change-port",level:3},{value:"Project Structure",id:"project-structure",level:2},{value:"Dependencies",id:"dependencies",level:3},{value:"Main Application Class",id:"main-application-class",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Application Configuration",id:"application-configuration",level:3},{value:"Static Instance Configuration",id:"static-instance-configuration",level:3},{value:"Security Configuration",id:"security-configuration",level:2},{value:"Spring Security Setup",id:"spring-security-setup",level:3},{value:"Custom Notifier",id:"custom-notifier",level:2},{value:"Notifier Configuration",id:"notifier-configuration",level:3},{value:"UI Customizations",id:"ui-customizations",level:2},{value:"External Views",id:"external-views",level:3},{value:"View Settings",id:"view-settings",level:3},{value:"Session Management",id:"session-management",level:2},{value:"Testing the Sample",id:"testing-the-sample",level:2},{value:"Access the UI",id:"access-the-ui",level:3},{value:"Test Self-Monitoring",id:"test-self-monitoring",level:3},{value:"Test Notifications",id:"test-notifications",level:3},{value:"Test Custom Headers",id:"test-custom-headers",level:3},{value:"Test External Views",id:"test-external-views",level:3},{value:"Build and Deploy",id:"build-and-deploy",level:2},{value:"Build JAR",id:"build-jar",level:3},{value:"Run JAR",id:"run-jar",level:3},{value:"With Profiles",id:"with-profiles",level:3},{value:"Deployment Considerations",id:"deployment-considerations",level:3},{value:"Customization Ideas",id:"customization-ideas",level:2},{value:"Add Custom Actuator Endpoint",id:"add-custom-actuator-endpoint",level:3},{value:"Add Database Notifier",id:"add-database-notifier",level:3},{value:"Add Custom Metadata",id:"add-custom-metadata",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Port Already in Use",id:"port-already-in-use",level:3},{value:"Security Issues",id:"security-issues",level:3},{value:"Self-Registration Fails",id:"self-registration-fails",level:3},{value:"Mail Notifications Not Working",id:"mail-notifications-not-working",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"See Also",id:"see-also",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"servlet-sample",children:"Servlet Sample"})}),"\n",(0,t.jsx)(n.p,{children:"The Servlet sample demonstrates a complete Spring Boot Admin Server deployment using traditional servlet-based Spring\nMVC. This is the most feature-rich sample, showcasing security, custom UI extensions, notifications, and\nself-monitoring."}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Location"}),": ",(0,t.jsx)(n.code,{children:"spring-boot-admin-samples/spring-boot-admin-sample-servlet/"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Features"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Traditional servlet-based deployment (Spring MVC)"}),"\n",(0,t.jsx)(n.li,{children:"Spring Security integration with form login"}),"\n",(0,t.jsx)(n.li,{children:"Self-monitoring using Admin Client"}),"\n",(0,t.jsx)(n.li,{children:"Mail notifications configured"}),"\n",(0,t.jsx)(n.li,{children:"Custom UI extensions included"}),"\n",(0,t.jsx)(n.li,{children:"Custom notifier implementation"}),"\n",(0,t.jsx)(n.li,{children:"HTTP exchange tracking"}),"\n",(0,t.jsx)(n.li,{children:"Audit event logging"}),"\n",(0,t.jsx)(n.li,{children:"Session persistence with JDBC"}),"\n",(0,t.jsx)(n.li,{children:"Custom actuator endpoint"}),"\n",(0,t.jsx)(n.li,{children:"JMX support via Jolokia"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Java 17 or higher"}),"\n",(0,t.jsx)(n.li,{children:"Maven 3.6+"}),"\n",(0,t.jsx)(n.li,{children:"Optional: Mail server for notifications"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"running-the-sample",children:"Running the Sample"}),"\n",(0,t.jsx)(n.h3,{id:"quick-start",children:"Quick Start"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd spring-boot-admin-samples/spring-boot-admin-sample-servlet\nmvn spring-boot:run\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Access the application at: ",(0,t.jsx)(n.code,{children:"http://localhost:8080"})]}),"\n",(0,t.jsx)(n.h3,{id:"with-security-enabled",children:"With Security Enabled"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mvn spring-boot:run -Dspring-boot.run.profiles=secure\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Login Credentials"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Username: ",(0,t.jsx)(n.code,{children:"user"})]}),"\n",(0,t.jsxs)(n.li,{children:["Password: ",(0,t.jsx)(n.code,{children:"password"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"change-port",children:"Change Port"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"SERVER_PORT=9090 mvn spring-boot:run\n"})}),"\n",(0,t.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,t.jsx)(n.h3,{id:"dependencies",children:"Dependencies"}),"\n",(0,t.jsxs)(n.p,{children:["Key dependencies from ",(0,t.jsx)(n.code,{children:"pom.xml"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"<dependencies>\n    \x3c!-- Admin Server --\x3e\n    <dependency>\n        <groupId>de.codecentric</groupId>\n        <artifactId>spring-boot-admin-starter-server</artifactId>\n    </dependency>\n\n    \x3c!-- Admin Client (for self-monitoring) --\x3e\n    <dependency>\n        <groupId>de.codecentric</groupId>\n        <artifactId>spring-boot-admin-starter-client</artifactId>\n    </dependency>\n\n    \x3c!-- Security --\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-security</artifactId>\n    </dependency>\n\n    \x3c!-- Web (Servlet) --\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-webmvc</artifactId>\n    </dependency>\n\n    \x3c!-- Notifications --\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-mail</artifactId>\n    </dependency>\n\n    \x3c!-- Session Management --\x3e\n    <dependency>\n        <groupId>org.springframework.session</groupId>\n        <artifactId>spring-session-jdbc</artifactId>\n    </dependency>\n\n    \x3c!-- Custom UI Extensions --\x3e\n    <dependency>\n        <groupId>de.codecentric</groupId>\n        <artifactId>spring-boot-admin-sample-custom-ui</artifactId>\n    </dependency>\n</dependencies>\n"})}),"\n",(0,t.jsx)(n.h3,{id:"main-application-class",children:"Main Application Class"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="SpringBootAdminServletApplication.java"',children:'@SpringBootApplication\n@EnableAdminServer\n@EnableCaching\npublic class SpringBootAdminServletApplication {\n\n    static void main(String[] args) {\n        SpringApplication app = new SpringApplication(\n            SpringBootAdminServletApplication.class\n        );\n        app.setApplicationStartup(new BufferingApplicationStartup(1500));\n        app.run(args);\n    }\n\n    @Bean\n    public CustomNotifier customNotifier(InstanceRepository repository) {\n        return new CustomNotifier(repository);\n    }\n\n    @Bean\n    public HttpHeadersProvider customHttpHeadersProvider() {\n        return (instance) -> {\n            HttpHeaders httpHeaders = new HttpHeaders();\n            httpHeaders.add("X-CUSTOM", "My Custom Value");\n            return httpHeaders;\n        };\n    }\n\n    @Bean\n    public InstanceExchangeFilterFunction auditLog() {\n        return (instance, request, next) -> next.exchange(request)\n            .doOnSubscribe((s) -> {\n                if (HttpMethod.DELETE.equals(request.method())\n                    || HttpMethod.POST.equals(request.method())) {\n                    log.info("{} for {} on {}",\n                        request.method(), instance.getId(), request.url());\n                }\n            });\n    }\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Key Points"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"@EnableAdminServer"})," activates Admin Server functionality"]}),"\n",(0,t.jsx)(n.li,{children:"Custom HTTP headers added to all instance requests"}),"\n",(0,t.jsx)(n.li,{children:"Audit logging for DELETE/POST operations"}),"\n",(0,t.jsx)(n.li,{children:"Application startup tracking enabled"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"application-configuration",children:"Application Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="application.yml"',children:'spring:\n  application:\n    name: spring-boot-admin-sample-servlet\n\n  boot:\n    admin:\n      client:\n        url: http://localhost:8080  # Self-registration\n        instance:\n          service-host-type: IP\n          metadata:\n            tags:\n              environment: test\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: "*"\n  endpoint:\n    health:\n      show-details: ALWAYS\n    shutdown:\n      enabled: true\n    restart:\n      enabled: true\n\nlogging:\n  file:\n    name: "target/boot-admin-sample-servlet.log"\n  level:\n    de.codecentric: info\n'})}),"\n",(0,t.jsx)(n.h3,{id:"static-instance-configuration",children:"Static Instance Configuration"}),"\n",(0,t.jsx)(n.p,{children:"The sample includes multiple static instances with creative names:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'spring:\n  cloud:\n    discovery:\n      client:\n        simple:\n          instances:\n            "Captain Debugbeard":\n              - uri: http://localhost:8080\n                metadata:\n                  management.context-path: /actuator\n                  group: Pirates of the Caribbean Bean\n\n            "Stack Overflow Sorcerer":\n              - uri: http://localhost:8080\n                metadata:\n                  management.context-path: /actuator\n                  group: Wizarding World\n'})}),"\n",(0,t.jsx)(n.h2,{id:"security-configuration",children:"Security Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"spring-security-setup",children:"Spring Security Setup"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="SecuritySecureConfig.java"',children:'@Profile("secure")\n@Configuration\npublic class SecuritySecureConfig {\n\n    private final AdminServerProperties adminServer;\n\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity http)\n            throws Exception {\n        SavedRequestAwareAuthenticationSuccessHandler successHandler =\n            new SavedRequestAwareAuthenticationSuccessHandler();\n        successHandler.setTargetUrlParameter("redirectTo");\n        successHandler.setDefaultTargetUrl(adminServer.path("/"));\n\n        http.authorizeHttpRequests((authorizeRequests) -> authorizeRequests\n            .requestMatchers(adminServer.path("/assets/**"))\n                .permitAll()  // Allow static resources\n            .requestMatchers(adminServer.path("/actuator/info"))\n                .permitAll()\n            .requestMatchers(adminServer.path("/actuator/health"))\n                .permitAll()\n            .requestMatchers(adminServer.path("/login"))\n                .permitAll()\n            .anyRequest()\n                .authenticated())\n            .formLogin((formLogin) -> formLogin\n                .loginPage(adminServer.path("/login"))\n                .successHandler(successHandler))\n            .logout((logout) -> logout\n                .logoutUrl(adminServer.path("/logout")))\n            .httpBasic(Customizer.withDefaults());\n\n        // CSRF Configuration\n        http.csrf((csrf) -> csrf\n            .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())\n            .ignoringRequestMatchers(\n                adminServer.path("/instances"),      // Instance registration\n                adminServer.path("/instances/*"),    // Instance deregistration\n                adminServer.path("/actuator/**")     // Actuator endpoints\n            ));\n\n        http.rememberMe((rememberMe) -> rememberMe\n            .key(UUID.randomUUID().toString())\n            .tokenValiditySeconds(1209600));  // 14 days\n\n        return http.build();\n    }\n\n    @Bean\n    public InMemoryUserDetailsManager userDetailsService(\n            PasswordEncoder passwordEncoder) {\n        UserDetails user = User.withUsername("user")\n            .password(passwordEncoder.encode("password"))\n            .roles("USER")\n            .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Security Features"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Form-based login with custom page"}),"\n",(0,t.jsx)(n.li,{children:"HTTP Basic authentication support"}),"\n",(0,t.jsx)(n.li,{children:"CSRF protection with token repository"}),"\n",(0,t.jsx)(n.li,{children:"Remember-me functionality (14 days)"}),"\n",(0,t.jsx)(n.li,{children:"Static resources publicly accessible"}),"\n",(0,t.jsx)(n.li,{children:"Health/info endpoints publicly accessible"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"custom-notifier",children:"Custom Notifier"}),"\n",(0,t.jsx)(n.p,{children:"The sample includes a custom notifier implementation:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="CustomNotifier.java"',children:'public class CustomNotifier extends AbstractEventNotifier {\n\n    private static final Logger LOGGER =\n        LoggerFactory.getLogger(CustomNotifier.class);\n\n    public CustomNotifier(InstanceRepository repository) {\n        super(repository);\n    }\n\n    @Override\n    protected Mono<Void> doNotify(InstanceEvent event, Instance instance) {\n        return Mono.fromRunnable(() -> {\n            if (event instanceof InstanceStatusChangedEvent statusChangedEvent) {\n                LOGGER.info("Instance {} ({}) is {}",\n                    instance.getRegistration().getName(),\n                    event.getInstance(),\n                    statusChangedEvent.getStatusInfo().getStatus());\n            } else {\n                LOGGER.info("Instance {} ({}) {}",\n                    instance.getRegistration().getName(),\n                    event.getInstance(),\n                    event.getType());\n            }\n        });\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"notifier-configuration",children:"Notifier Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="NotifierConfig.java"',children:'@Configuration\npublic class NotifierConfig {\n\n    @Bean\n    public FilteringNotifier filteringNotifier() {\n        CompositeNotifier delegate = new CompositeNotifier(\n            otherNotifiers.getIfAvailable(Collections::emptyList)\n        );\n        return new FilteringNotifier(delegate, repository);\n    }\n\n    @Primary\n    @Bean(initMethod = "start", destroyMethod = "stop")\n    public RemindingNotifier remindingNotifier() {\n        RemindingNotifier notifier = new RemindingNotifier(\n            filteringNotifier(), repository\n        );\n        notifier.setReminderPeriod(Duration.ofMinutes(10));\n        notifier.setCheckReminderInverval(Duration.ofSeconds(10));\n        return notifier;\n    }\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Notification Features"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Custom event logging"}),"\n",(0,t.jsx)(n.li,{children:"Filtering notifier for selective notifications"}),"\n",(0,t.jsx)(n.li,{children:"Reminding notifier (sends reminders every 10 minutes)"}),"\n",(0,t.jsx)(n.li,{children:"Composable notifier chain"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"ui-customizations",children:"UI Customizations"}),"\n",(0,t.jsx)(n.h3,{id:"external-views",children:"External Views"}),"\n",(0,t.jsx)(n.p,{children:"The sample demonstrates various external view configurations:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'spring:\n  boot:\n    admin:\n      ui:\n        external-views:\n          # Simple link\n          - label: "\ud83d\ude80"\n            url: "https://codecentric.de"\n            order: 2000\n\n          # Dropdown with links\n          - label: Resources\n            children:\n              - label: "\ud83d\udcd6 Docs"\n                url: https://codecentric.github.io/spring-boot-admin/\n              - label: "\ud83d\udce6 Maven"\n                url: https://search.maven.org/...\n              - label: "\ud83d\udc19 GitHub"\n                url: https://github.com/codecentric/spring-boot-admin\n\n          # Iframe view\n          - label: "\ud83c\udf85 Is it christmas"\n            url: https://isitchristmas.com\n            iframe: true\n'})}),"\n",(0,t.jsx)(n.h3,{id:"view-settings",children:"View Settings"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'spring:\n  boot:\n    admin:\n      ui:\n        view-settings:\n          - name: "journal"\n            enabled: false\n'})}),"\n",(0,t.jsx)(n.h2,{id:"session-management",children:"Session Management"}),"\n",(0,t.jsx)(n.p,{children:"The sample uses JDBC-based session persistence:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Bean\npublic EmbeddedDatabase dataSource() {\n    return new EmbeddedDatabaseBuilder()\n        .setType(EmbeddedDatabaseType.HSQL)\n        .addScript("org/springframework/session/jdbc/schema-hsqldb.sql")\n        .build();\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Benefits"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Session persistence across restarts"}),"\n",(0,t.jsx)(n.li,{children:"Support for clustered deployments"}),"\n",(0,t.jsx)(n.li,{children:"Built-in session cleanup"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"testing-the-sample",children:"Testing the Sample"}),"\n",(0,t.jsx)(n.h3,{id:"access-the-ui",children:"Access the UI"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Start the application"}),"\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.code,{children:"http://localhost:8080"})]}),"\n",(0,t.jsx)(n.li,{children:"Login (if secure profile is active)"}),"\n",(0,t.jsx)(n.li,{children:"View the registered instances"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"test-self-monitoring",children:"Test Self-Monitoring"}),"\n",(0,t.jsx)(n.p,{children:"The application monitors itself via the Admin Client. You should see:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Application name: ",(0,t.jsx)(n.code,{children:"spring-boot-admin-sample-servlet"})]}),"\n",(0,t.jsx)(n.li,{children:"Status: UP"}),"\n",(0,t.jsx)(n.li,{children:"All actuator endpoints available"}),"\n",(0,t.jsx)(n.li,{children:"Custom metadata and tags"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"test-notifications",children:"Test Notifications"}),"\n",(0,t.jsx)(n.p,{children:"Monitor the logs for custom notification events:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"INFO - Instance spring-boot-admin-sample-servlet (...) is UP\nINFO - Instance spring-boot-admin-sample-servlet (...) ENDPOINTS_DETECTED\n"})}),"\n",(0,t.jsx)(n.h3,{id:"test-custom-headers",children:"Test Custom Headers"}),"\n",(0,t.jsxs)(n.p,{children:["All requests to instances include the custom header ",(0,t.jsx)(n.code,{children:"X-CUSTOM: My Custom Value"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"test-external-views",children:"Test External Views"}),"\n",(0,t.jsx)(n.p,{children:"Click the external view links in the navigation:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Rocket emoji (\ud83d\ude80) - Opens codecentric.de"}),"\n",(0,t.jsx)(n.li,{children:"Resources dropdown - Multiple documentation links"}),"\n",(0,t.jsx)(n.li,{children:'"Is it christmas" - Iframe view'}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"build-and-deploy",children:"Build and Deploy"}),"\n",(0,t.jsx)(n.h3,{id:"build-jar",children:"Build JAR"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mvn clean package\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Produces: ",(0,t.jsx)(n.code,{children:"target/spring-boot-admin-sample-servlet.jar"})]}),"\n",(0,t.jsx)(n.h3,{id:"run-jar",children:"Run JAR"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar target/spring-boot-admin-sample-servlet.jar\n"})}),"\n",(0,t.jsx)(n.h3,{id:"with-profiles",children:"With Profiles"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar target/spring-boot-admin-sample-servlet.jar \\\n  --spring.profiles.active=secure\n"})}),"\n",(0,t.jsx)(n.h3,{id:"deployment-considerations",children:"Deployment Considerations"}),"\n",(0,t.jsx)(n.p,{children:"When deploying, consider:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"External Database"}),": Replace HSQLDB with PostgreSQL/MySQL"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Mail Server"}),": Configure SMTP for real notifications"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Security"}),": Use external user store (LDAP/OAuth2)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"HTTPS"}),": Enable TLS/SSL"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Session Store"}),": Use Redis or external database"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Example deployment configuration:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"spring:\n  datasource:\n    url: jdbc:postgresql://localhost:5432/admin\n    username: admin\n    password: ${DB_PASSWORD}\n\n  mail:\n    host: smtp.company.com\n    port: 587\n    username: ${SMTP_USER}\n    password: ${SMTP_PASSWORD}\n\nserver:\n  port: 8443\n  ssl:\n    enabled: true\n    key-store: classpath:keystore.p12\n    key-store-password: ${KEYSTORE_PASSWORD}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"customization-ideas",children:"Customization Ideas"}),"\n",(0,t.jsx)(n.h3,{id:"add-custom-actuator-endpoint",children:"Add Custom Actuator Endpoint"}),"\n",(0,t.jsx)(n.p,{children:"Create a custom endpoint (example included):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Component\n@Endpoint(id = "custom")\npublic class CustomEndpoint {\n\n    @ReadOperation\n    public Map<String, Object> customEndpoint() {\n        return Map.of(\n            "message", "Hello from custom endpoint",\n            "timestamp", Instant.now()\n        );\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"add-database-notifier",children:"Add Database Notifier"}),"\n",(0,t.jsx)(n.p,{children:"Replace log-based notifier with database persistence:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"public class DatabaseNotifier extends AbstractEventNotifier {\n\n    private final EventRepository eventRepository;\n\n    @Override\n    protected Mono<Void> doNotify(InstanceEvent event, Instance instance) {\n        return Mono.fromRunnable(() -> {\n            eventRepository.save(new EventEntity(event, instance));\n        });\n    }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"add-custom-metadata",children:"Add Custom Metadata"}),"\n",(0,t.jsx)(n.p,{children:"Enhance self-registration with custom metadata:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"spring:\n  boot:\n    admin:\n      client:\n        instance:\n          metadata:\n            version: ${project.version}\n            region: us-east-1\n            team: platform\n            tags:\n              environment: production\n              cost-center: engineering\n"})}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"port-already-in-use",children:"Port Already in Use"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Change port\nSERVER_PORT=9090 mvn spring-boot:run\n"})}),"\n",(0,t.jsx)(n.h3,{id:"security-issues",children:"Security Issues"}),"\n",(0,t.jsx)(n.p,{children:"If you cannot access the UI:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Check if ",(0,t.jsx)(n.code,{children:"secure"})," profile is active"]}),"\n",(0,t.jsxs)(n.li,{children:["Verify credentials: ",(0,t.jsx)(n.code,{children:"user"})," / ",(0,t.jsx)(n.code,{children:"password"})]}),"\n",(0,t.jsx)(n.li,{children:"Check CSRF token in browser console"}),"\n",(0,t.jsx)(n.li,{children:"Clear browser cookies"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"self-registration-fails",children:"Self-Registration Fails"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Verify client URL matches server URL"}),"\n",(0,t.jsx)(n.li,{children:"Check actuator endpoints are exposed"}),"\n",(0,t.jsx)(n.li,{children:"Review logs for connection errors"}),"\n",(0,t.jsx)(n.li,{children:"Ensure security permits instance registration"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"mail-notifications-not-working",children:"Mail Notifications Not Working"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Configure valid SMTP server"}),"\n",(0,t.jsx)(n.li,{children:"Check firewall/network access"}),"\n",(0,t.jsx)(n.li,{children:"Verify credentials"}),"\n",(0,t.jsx)(n.li,{children:"Enable debug logging:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"logging:\n  level:\n    org.springframework.mail: DEBUG\n"})}),"\n",(0,t.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,t.jsx)(n.p,{children:"This sample demonstrates:"}),"\n",(0,t.jsxs)(n.p,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Complete Deployment Setup"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Security, session management, notifications"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Self-Monitoring Pattern"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Admin Server monitoring itself via Admin Client"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Extensibility"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Custom notifiers, endpoints, headers, UI views"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Best Practices"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Profile-based configuration"}),"\n",(0,t.jsx)(n.li,{children:"CSRF protection"}),"\n",(0,t.jsx)(n.li,{children:"Proper security configuration"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Explore ",(0,t.jsx)(n.a,{href:"/4.1.0-SNAPSHOT/docs/samples/sample-reactive",children:"Reactive Sample"})," for WebFlux alternative"]}),"\n",(0,t.jsxs)(n.li,{children:["Review ",(0,t.jsx)(n.a,{href:"../05-security/",children:"Security Documentation"})," for deployment hardening"]}),"\n",(0,t.jsxs)(n.li,{children:["Check ",(0,t.jsx)(n.a,{href:"../06-customization/",children:"Customization Guide"})," for more extensions"]}),"\n",(0,t.jsxs)(n.li,{children:["See ",(0,t.jsx)(n.a,{href:"../02-server/notifications/",children:"Notification Configuration"})," for notifier options"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/4.1.0-SNAPSHOT/docs/server/server",children:"Server Configuration"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/4.1.0-SNAPSHOT/docs/client/registration",children:"Client Registration"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../06-customization/ui/",children:"UI Customization"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/4.1.0-SNAPSHOT/docs/security/server-authentication",children:"Spring Security Integration"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var s=i(6540);const t={},r=s.createContext(t);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);